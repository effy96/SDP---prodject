<h1>Архивиране на файлове</h1>
<p>В рамките на този проект трябва да се разработи приложение, което сканира дадена
директория и архивира нейното съдържание. Програмата трябва да създаде един архивен файл,
който пази в себе си оригиналното съдържание на директорията. Съдържанието на файла трябва да
се компресира, като за кодирането трябва да се използва алгоритъмът на Хъфман, а моделирането
можете да изберете сами как да реализирате.
Относно разликата между моделиране и кодиране: Нека имаме следния стринг:
"abcd abab cdcd cdab"
<p>Най-грубо казано, моделирането се опитва да анализира входа и да определи кои са отделните
единици, които след това трябва да се представят по оптимален начин (кодиране). Например една
възможност е моделирането да заключи, че в текста има четири думи, които подлежат на
кодиране:
<p>"abcd ", "abab ", "cdcd ", "cdab"
<p>Ако моделирането им съпостави следните числа:
<p>1:"abcd ", 2:"abab ", 3:"cdcd ", 4:"cdab"
<p>Тогава кодираният текст ще изглежда така:
<p>1234.
 
<p>Възможно е обаче моделирането да реши, че имаме следните четири срички:
<p>"ab", "ab ", "cd", "cd "
<p>Нека отново предположим, че кодирането ще ги номерира от едно до четири:
<p>1:"ab", 2:"ab ", 3:"cd", 4:"cd "
<p>Тогава кодираният текст ще изглежда така:
<p>14123431
<p>Когато компресирате стринга, не можете да предадете просто кодираното представяне, защото зад
него може да стоят безброй неща. Трябва да предадете и използвания речник. Така за последния
пример, ако искаме да предадем на някого кодирания текст, можем да предадем например:
<p>1:"ab", 2:"ab ", 3:"cd", 4:"cd ", 14123431
<p>Както се вижда от примерите, при една и съща схема на кодиране, може да се получат
различни резултати, в зависимост от резултатите от моделирането. Както вече написахме, в
проектите трябва да се използва Хъфманово кодиране, а сами можете да изберете как да
моделирате входа. Най-лесно, но не особено ефективно ще бъде да четете входа байт по байт и да
кодирате отделните байтове.
<p>При оценяването на проектите ви ще се взима предвид и как точно моделирате входа си.
<p>Като функционалност приложението ви трябва да може да архивира или разархивира
съдържанието на дадена директория. При стартирането му потребителят трябва да може или да
укаже директория, която да се архивира или да укаже файл, който трябва да се разархивира.
<p>Входът на програмата трябва да се получава от командния ред. Първият параметър указва
каква операция да се изпълни. Възможните операции са както следва:
<p>№ Команда Описание
<p>1. -Pack Архивиране. В този случай след командата се подава път до директория, която
да се обработи и името на архивния файл, който трябва да се създаде.
Например:
<p>> Archive.exe -Pack C:\Test C:\Temp\myfile.arc
<p>2. -Unpack Разархивиране. В този случай след командата се подава път до съществуващ
архив и път до директория, в която той да се разархивира. Например:
<p>> Archive.exe -Unpack C:\Temp\myfile.arc C:\AnotherDirectory\
<p>3. -List Показване на съдържанието на архив. След тази команда се подава път до
съществуващ архив. Програмата ви трябва да отвори архива и да изведе на
екрана имената на всички файлове и директории, които се съдържат в него.
Например:
<p>> Archive.exe -List C:\Temp\myfile.arc
<p>Докато работи, приложението трябва да извежда някаква информация, за да може
потребителят да знае дали то работи или е „увиснало“. Например може да се извежда броят на
обработените файлове, колко процента от работата е свършена и т.н. Един сравнително прост
вариант и за трите команди, е да извеждате името на всеки обработен файл. <n> 
<p>Обърнете внимание, че във входната директория може да има не само файлове, но и други
директории. Тъй като се иска да архивирате цялата директория, това означава, че трябва да можете
рекурсивно да влезете в тези поддиректории и да запазите и тяхното съдържание. Също така,
възможно е някои от поддиректориите да са празни (да не съдържат файлове) или да имате
файлове с размер нула байта (празни файлове). Приложението ви не трябва да ги пропуска и след
разархивиране, те трябва да се възстановят така, както са били в оригиналната директория.
<p>Бонус точки
<p>За допълнителни точки, приложението може да се разшири, като в него се реализира някакъв
вид шумозащитно кодиране. Това означава, че освен съдържанието на файловете, в архива се пази
и допълнителна информация (например CRC), която позволява (1) да се провери дали
информацията в архива не е повредена, а при някои схеми на кодиране дори и (2) да се коригират
възникналите грешки и да се възстанови оригиналното съдържание. Специално CRC не дава втората
възможност, но има други схеми на кодиране, като например BCH (Bose-Chaudhuri-Hocquenghem),
които го позволяват. Респективно, при разархивиране, тази информация трябва да се използва, за
да се провери дали всички файлове са били възстановени успешно. В случай на грешка трябва да се
изведе съобщение и ако е възможно, тя да се коригира.
Втори вариант за разширение за бонус точки е да се реализира търсене в архив. За целта трябва
да се реализира следната команда:
<p>4. -Search Търсене на текст във файловете в даден архив. След тази команда се подава
път до съществуващ архив и символен низ (стринг) T. Програмата ви трябва да
претърси файловете, които се съдържат в архива и да изведе на екрана
имената на онези от тях, които съдържат в себе си текста T. Търсенето трябва
да се реализира директно върху кодираните данни. Например:
> Archive.exe -Search C:\Temp\myfile.arc "Hello world"
<p>Търсенето на текст трябва да реализирате сами и то трябва да се изпълнява върху кодираните
данни. Например решение, при което декодирате всеки файл във временна директория или в
паметта и след това изпълнявате върху всеки негов ред функцията strstr(), не носи точки.
